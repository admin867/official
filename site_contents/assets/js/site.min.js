import*as e from"https://unpkg.com/three@0.160.0/build/three.module.js";document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".hamburger"),t=document.querySelector(".nav");e&&t&&e.addEventListener("click",n=>{let r=!t.classList.contains("open");t.classList.toggle("open",r),e.setAttribute("aria-expanded",r?"true":"false"),n.preventDefault()}),t?.addEventListener("click",e=>{e.target.closest("a")&&t.classList.remove("open")}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.remove("open")})});let prefersReduce=window.matchMedia("(prefers-reduced-motion: reduce)").matches,canvas=document.querySelector("#bg"),renderer=new e.WebGLRenderer({canvas:canvas,antialias:!0,alpha:!0}),dpr=Math.min(window.devicePixelRatio||1,1.75);renderer.setPixelRatio(dpr),renderer.setSize(window.innerWidth,window.innerHeight);let scene=new e.Scene,camera=new e.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.1,1e3);camera.position.set(0,0,30);let jewel=new e.Mesh(new e.TorusKnotGeometry(8,1.4,120,18),new e.MeshStandardMaterial({color:13938487,metalness:1,roughness:.12}));jewel.position.x=18,scene.add(jewel);let pointLight=new e.PointLight(16777215,1.3);pointLight.position.set(18,10,20);let rimLight=new e.PointLight(16765562,.6);rimLight.position.set(-20,-10,-10),scene.add(pointLight,rimLight,new e.AmbientLight(16777215,.1));let particlesCount=prefersReduce?1500:4500,ptsGeo=new e.BufferGeometry,posArray=new Float32Array(3*particlesCount);for(let i=0;i<posArray.length;i++)posArray[i]=(Math.random()-.5)*120;ptsGeo.setAttribute("position",new e.BufferAttribute(posArray,3));let particles=new e.Points(ptsGeo,new e.PointsMaterial({size:.02,color:13938487,blending:e.AdditiveBlending}));scene.add(particles);let mouseX=0,mouseY=0;window.addEventListener("mousemove",e=>{mouseX=e.clientX,mouseY=e.clientY},{passive:!0});let clock=new e.Clock,animId,isActive=!0;function animate(){if(!isActive)return;let e=clock.getElapsedTime();jewel.rotation.y=.12*e,jewel.rotation.x=.1*e,particles.rotation.y=-.015*e,camera.position.x+=(mouseX/innerWidth*6-3-camera.position.x)*.02,camera.position.y+=(-mouseY/innerHeight*6+3-camera.position.y)*.02,camera.lookAt(0,0,0),renderer.render(scene,camera),animId=requestAnimationFrame(animate)}prefersReduce||animate(),document.addEventListener("visibilitychange",()=>{document.hidden?(isActive=!1,cancelAnimationFrame(animId)):(isActive=!0,clock.start(),animate())}),window.addEventListener("resize",()=>{renderer.setSize(innerWidth,innerHeight),camera.aspect=innerWidth/innerHeight,camera.updateProjectionMatrix()}),function(e,t,n,r,a){e[r]=e[r]||[],e[r].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var s=t.getElementsByTagName(n)[0],o=t.createElement(n);o.async=!0,o.src="https://www.googletagmanager.com/gtm.js?id="+a+("dataLayer"!=r?"&l="+r:""),s.parentNode.insertBefore(o,s)}(window,document,"script","dataLayer","GTM-MT456CP8");